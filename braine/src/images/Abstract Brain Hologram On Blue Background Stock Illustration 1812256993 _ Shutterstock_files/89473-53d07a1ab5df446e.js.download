"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89473],{7665:function(e,t,r){r.d(t,{K0:function(){return a},Zk:function(){return i}});var n=r(38398),i=()=>{var e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,n.format)({pathname:e})}},a=()=>{var e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,n.format)({pathname:e})}}},62054:function(e,t,r){r.d(t,{AN:function(){return f},FB:function(){return d},Hf:function(){return h},Pf:function(){return g},Xq:function(){return c},ZQ:function(){return p},_W:function(){return _},bw:function(){return v},dv:function(){return l},h2:function(){return u},nS:function(){return m}});var n=r(57460),i=r(6692),a=r(67148),o=r(38398),s=e=>{var{urlParams:t={},queryParams:r={}}=e,i="/cart/".concat(t.isPrimary?a.Yl:a.d7),s=(0,n._)({},r);return{url:i,defaultParams:s,formattedUrl:(0,o.format)({pathname:i,query:s})}},l=function(){var{urlParams:e={},queryParams:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=s({urlParams:e,queryParams:t}),a=(0,n._)({},r.defaultParams);return(0,i._)((0,n._)({},r),{defaultParams:a,formattedUrl:(0,o.format)({pathname:r.url,query:a})})},u=s,c=s,d=e=>{var{urlParams:t={},queryParams:r={}}=e,i="/cart/".concat(t.fromCartType,"/to/").concat(t.toCartType),a=(0,n._)({},r);return{url:i,defaultParams:a,formattedUrl:(0,o.format)({pathname:i,query:a})}},v=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations/").concat(t.status);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},m=e=>{var{urlParams:t={}}=e,r="/account/user/".concat(t.id,"/settings");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},p=e=>{var{urlParams:t={}}=e,r="/account/user/".concat(t.id,"/settings");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},f=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations/").concat(t.invitationId);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},h=e=>{var{urlParams:t={}}=e,r="/organization/".concat(t.organizationId,"/invitations");return{url:r,formattedUrl:(0,o.format)({pathname:r})}},_=e=>{var{urlParams:t={}}=e,r="/organization/users/".concat(t.id);return{url:r,formattedUrl:(0,o.format)({pathname:r})}},g=function(){var{queryParams:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/cart/".concat(a.Yl,"/quote"),r=(0,i._)((0,n._)({},e),{exclude_comps:1,expand:"agreements"});return{url:t,defaultParams:r,formattedUrl:(0,o.format)({pathname:t,query:r})}}},3912:function(e,t,r){r.r(t),r.d(t,{MosaicAssetGridWithViews:function(){return w}});var n=r(57460),i=r(6692),a=r(52322),o=r(11347),s=r(2281),l=r(60987),u=r(27110),c=r(94846),d=r(2882),v=r(76825),m=r(31271),p=r(25237),f=r.n(p)()(()=>Promise.resolve().then(r.bind(r,12778)).then(e=>e.SignUpModal),{loadableGenerated:{webpack:()=>[12778]},ssr:!1}),h=e=>{var{assetOverlayProps:t}=e,r=(0,s._)(e,["assetOverlayProps"]),{assets:o,hideAddToCart:p,hideSimilarAction:h,onAddToCollectionsComplete:_,listId:g,showInlineSimilarity:y}=r,{assetType:b}=(0,m.JI)(),{AddToCartViews:w,addToCartViewsHandler:C,addToCartViewsProps:S}=(0,c.t)(),{AddToCollectionViews:I,addToCollectionViewsHandler:k,addToCollectionViewsProps:T,isModalOpen:x,handleCloseModal:j,collectionProps:A}=(0,d.V)({initialAssetType:b}),{PreviewModal:P,previewModalProps:U,onAssetModalHandler:E}=(0,u.R)({addToCartViewsHandler:C,addToCollectionViewsHandler:k,assets:o,compLicensingHandler:null,licensingAssetId:null,withGoToPageAction:!0,withNavigationArrows:!0,listId:g,SecondaryActionsComponent:void 0,analyticsEventSection:void 0}),D=(0,v.aT)(null==o?void 0:o[0]);return(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsx)(f,(0,n._)({modalIsOpen:x,handleClose:j},D&&{collectionProps:A})),(0,a.jsx)(l.MosaicAssetGrid,(0,n._)({assetOverlayProps:(0,n._)({listId:g,addToCartViewsHandler:C,addToCollectionViewsHandler:k,onAssetModalHandler:E,shouldHideOnImageMobile:!0},t),showInlineSimilarity:y},r)),(0,a.jsx)(w,(0,n._)({},S)),(0,a.jsx)(I,(0,n._)({onAddToCollectionsComplete:_},T)),(0,a.jsx)(P,(0,i._)((0,n._)({},U),{hideAddToCart:p,hideSimilarAction:h,showActionIcons:!0}))]})},_=r(85787),g=e=>{var{assetOverlayProps:t}=e,r=(0,s._)(e,["assetOverlayProps"]),{assets:o,hideAddToCart:v,onAddToCollectionsComplete:p,listId:f,showInlineSimilarity:h}=r,{assetType:g}=(0,m.JI)(),{CompLicensingViews:y,licensingAssetId:b,compLicensingProps:w,compLicensingHandler:C}=(0,_.r)(),{AddToCartViews:S,addToCartViewsHandler:I,addToCartViewsProps:k}=(0,c.t)(),{AddToCollectionViews:T,addToCollectionViewsHandler:x,addToCollectionViewsProps:j}=(0,d.V)({initialAssetType:g}),{PreviewModal:A,previewModalProps:P,onAssetModalHandler:U}=(0,u.R)({addToCartViewsHandler:I,addToCollectionViewsHandler:x,assets:o,compLicensingHandler:C,licensingAssetId:b,withGoToPageAction:!0,withNavigationArrows:!0,listId:f,SecondaryActionsComponent:void 0,analyticsEventSection:void 0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.MosaicAssetGrid,(0,n._)({assetOverlayProps:(0,n._)({listId:f,addToCartViewsHandler:I,addToCollectionViewsHandler:x,compLicensingHandler:C,licensingAssetId:b,onAssetModalHandler:U},t),showInlineSimilarity:h},r)),(0,a.jsx)(S,(0,n._)({},k)),(0,a.jsx)(T,(0,n._)({onAddToCollectionsComplete:p},j)),(0,a.jsx)(A,(0,i._)((0,n._)({},P),{hideAddToCart:v,showActionIcons:!0})),(0,a.jsx)(y,(0,n._)({},w))]})},y=r(26481),b=r(51119),w=e=>{var{setThroughProvider:t,assets:r,isBrandSstk:s}=(0,o.R)(),{isBrandEnterprise:l}=(0,y.D)(),u=(0,b.d)(),{assets:c}=e,d=t?r:c;switch("".concat(u?"MOBILE":"DESKTOP","_").concat((t?s:!l)?"ECOMM":"ENTERPRISE")){case"MOBILE_ENTERPRISE":case"DESKTOP_ENTERPRISE":return(0,a.jsx)(g,(0,i._)((0,n._)({},e),{assets:d}));default:return(0,a.jsx)(h,(0,i._)((0,n._)({},e),{assets:d}))}}},32549:function(e,t,r){r.d(t,{k:function(){return h}});var n=r(57460),i=r(52322),a=r(59581),o=r(19748),s=r(76825),l=r(3946),u=r(25237),c=r.n(u),d=c()(()=>r.e(21070).then(r.bind(r,21070)).then(e=>e.BlankTemplateAssetItem),{loadableGenerated:{webpack:()=>[21070]},ssr:!0,loading:l.S}),v=r(63776),m=c()(()=>r.e(36777).then(r.bind(r,36777)).then(e=>e.MusicGridItem),{loadableGenerated:{webpack:()=>[36777]},ssr:!0,loading:l.S}),p=c()(()=>Promise.all([r.e(3764),r.e(54252)]).then(r.bind(r,54252)).then(e=>e.TemplateGridItem),{loadableGenerated:{webpack:()=>[54252]},ssr:!0,loading:l.S}),f=r(60648),h=e=>{var{asset:t}=e;switch((0,s.Tp)(t)){case a.pX:case a.A7:return(0,i.jsx)(f.x,(0,n._)({},e));case a.xF:case a.tn:return(0,i.jsx)(m,(0,n._)({},e));case a.k4:case o.du:case a.oI:case a.nX:case a.Nk:case a.zo:return(0,i.jsx)(v.N,(0,n._)({},e));case a.C_:return(0,i.jsx)(d,(0,n._)({},e));case a.hv:return(0,i.jsx)(p,(0,n._)({},e));default:return(0,i.jsx)(l.S,{})}}},96157:function(e,t,r){r.d(t,{A:function(){return v}});var n=r(52322),i=r(57700),a=r(79041),o=r(76825),s=r(25365),l=r(98116),u=e=>{var{asset:t,cardAspectRatio:r}=e,n=(0,a.jz)(t);return t?Math.min(n,r):r},c=e=>{var{isImageAsset:t,cardAspectRatio:r,assetAspectRatio:n}=e;if(t)return 0;var i=(r-n)*100;return i?i/2:0},d=(0,l.ZL)()((e,t)=>{var{palette:r,breakpoints:n}=e,{minHeight:i,backgroundHeight:a}=t;return{container:{position:"relative",overflow:"hidden"},withBackground:{backgroundColor:r.skeleton,[n.up("lg")]:{height:a}},assetContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},imageContainer:{height:"108%"},minHeight:{minHeight:i&&"".concat(i,"px")},asset:{height:"100%",display:"flex",justifyContent:"center",backgroundColor:r.skeleton}}}),v=e=>{var{asset:t,cardAspectRatio:r=i.Th,children:a,classesProps:l=s.FD,minHeight:v=null,withBackground:m=!0,withFullWidth:p,backgroundHeight:f=null}=e,h=(0,o.aT)(t),{classes:_,cx:g}=d({minHeight:v,backgroundHeight:f}),y=p?r:u({asset:t,cardAspectRatio:r}),b=p?0:c({isImageAsset:h,assetAspectRatio:y,cardAspectRatio:r});return(0,n.jsx)("div",{className:g(_.container,l.container,{[_.withBackground]:m,[_.minHeight]:v}),style:{paddingTop:"".concat(100*r,"%")},children:(0,n.jsx)("div",{className:g(_.assetContainer,{[_.imageContainer]:h,[_.minHeight]:v}),style:{marginTop:"".concat(b,"%"),paddingTop:"".concat(100*y,"%")},children:(0,n.jsx)("div",{className:g(_.assetContainer,_.asset),children:a})})})}},3946:function(e,t,r){r.d(t,{S:function(){return o}});var n=r(52322),i=r(91290),a=(0,r(98116).ZL)()(e=>{var{palette:t}=e;return{skeleton:{width:"100%",height:"100%",position:"absolute",top:0,right:0,zIndex:-1,backgroundColor:t.background.default}}}),o=()=>{var{classes:e}=a();return(0,n.jsx)("div",{className:e.skeleton,children:(0,n.jsx)(i.Z,{variant:"rectangular",height:"100%",width:"100%","data-automation":"ThumbnailSkeleton"})})}},63776:function(e,t,r){r.d(t,{N:function(){return o}});var n=r(25237),i=r.n(n),a=r(3946),o=i()(()=>Promise.all([r.e(3764),r.e(90092)]).then(r.bind(r,90092)).then(e=>e.ImageGridItem),{loadableGenerated:{webpack:()=>[90092]},ssr:!0,loading:a.S})},60648:function(e,t,r){r.d(t,{x:function(){return o}});var n=r(25237),i=r.n(n),a=r(3946),o=i()(()=>Promise.all([r.e(3764),r.e(97197)]).then(r.bind(r,62213)).then(e=>e.VideoGridItem),{loadableGenerated:{webpack:()=>[62213]},ssr:!0,loading:a.S})},91335:function(e,t,r){r.d(t,{f:function(){return i},p:function(){return a}});var n=r(2784),i=(0,n.createContext)({setIsOnMouseLeaveOverrideActive:()=>{},setIsHovered:()=>{},itemIndex:0,hideSimilarButton:!1,handleSimilarClick:()=>{},showInlineSimilarity:!1,isAssetThin:!1}),a=()=>(0,n.useContext)(i)},22785:function(e,t,r){r.r(t),r.d(t,{Snackbar:function(){return f}});var n=r(57460),i=r(6692),a=r(52322),o=r(52850),s=r(99414),l=r(35326),u=r(28603),c=r(67148),d=r(98761),v=r(26481),m=r(79428),p=e=>{var{status:t,isSizeLimitWarning:r,alertLabels:n}=e;return r?n.sizeLimitWarning:t===u.MR?n.addToCartSuccess:n.addToCartWarning},f=e=>{var{isOpen:t,isSizeLimitWarning:r=!1,addToCartStatus:f,snackBarActionAllowed:h=!0,handleSnackbarClose:_}=e,{t:g}=(0,m.$G)(o.jey),{status:y,error:b}=f,w={addToCartSuccess:g("common:actions_added_to_cart"),addToCartWarning:g("notifications:label_add_to_cart_failure"),sizeLimitWarning:g("ent:cart_size_limit_warning",{LIMIT:c.fv}),viewActionLabel:g("common:actions_view")},C=p({status:y,isSizeLimitWarning:r,alertLabels:w}),{isBrandEnterprise:S}=(0,v.D)(),{viewCartAction:I}=(0,s.q)(),k=(0,d.W)(),T={onClick:()=>{_(),S?k():I()},label:w.viewActionLabel};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.DynamicSnackbar,(0,i._)((0,n._)({},f.status===u.MR&&h&&{alertAction:T}),{alertSeverity:y,error:b,handleSnackbarClose:_,isOpen:t&&!!y,message:C}))})}},94846:function(e,t,r){r.d(t,{J:function(){return f},t:function(){return h}});var n=r(81862),i=r(52322),a=r(19778),o=r(99067),s=r(2784),l=r(57460),u=r(2281),c=r(25237),d=r.n(c)()(()=>Promise.all([r.e(3764),r.e(81189),r.e(71182),r.e(24387),r.e(97478)]).then(r.bind(r,97478)).then(e=>e.AddToCartDialog),{loadableGenerated:{webpack:()=>[97478]},ssr:!1}),v=e=>{var{isActive:t}=e,r=(0,u._)(e,["isActive"]);return(0,o.B)(t)&&(0,i.jsx)(d,(0,l._)({isActive:t},r))},m=r(22785),p={status:"",error:void 0},f=e=>{var{addToCartStatus:t=p,assets:r=null,eventLabel:n,gridItems:a=null,isAddToCartDialogActive:s,isPrimary:l,isSnackBarOpen:u,isSizeLimitWarning:c,onAddToCart:d,onAlertSnackbarClose:f,setIsAddToCartDialogActive:h,pageSection:_,listId:g,snackBarActionAllowed:y=!0}=e;return(0,o.B)(r)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v,{assets:r,eventLabel:n,gridItems:a,isActive:s,isPrimary:l,listId:g,onAddToCart:d,pageSection:_,setIsActive:h}),(0,i.jsx)(m.Snackbar,{snackBarActionAllowed:y,addToCartStatus:t,handleSnackbarClose:f,isOpen:u,isSizeLimitWarning:c})]}):null},h=function(){var e,t,{withOptimisticUpdate:r=!0,setIsVerifying:i,snackBarActionAllowed:o=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,u]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[v,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),[_,g]=(0,s.useState)(!0),[y,b]=(0,s.useState)(null),[w,C]=(0,s.useState)(null),[S,I]=(0,s.useState)(null),{addCartItems:k,moveToSaveForLater:T,moveToPrimary:x,addToCartStatus:j,isSizeLimitWarning:A,notAddedSelectVideos:P}=(0,a.gV)();(0,s.useEffect)(()=>()=>m(null),[]);var U=(0,s.useCallback)(e=>{var{assets:t,eventLabel:n,licenseId:a,formatType:o,licensePrice:s,cart:l,mutateCart:u,notAddedSelectVideoIds:c,pageSection:m,listId:f}=e;null==i||i(!0),d(!0),k({cart:l,eventLabel:n,gridItems:p,isPrimary:_,itemsToAdd:t||v,licenseId:a,formatType:o,licensePrice:s,mutateCart:u,notAddedSelectVideoIds:c,withOptimisticUpdate:r,pageSection:m,listId:f})},[v,p,k,_,i,r]),E=(0,s.useCallback)((e=(0,n._)(function*(e){var{itemsToMove:t,primaryCart:r,mutatePrimaryCart:n,mutateSavedForLaterCart:a}=e;null==i||i(!0),d(!0);try{yield x({itemsToMove:t,primaryCart:r,mutatePrimaryCart:n,mutateSavedForLaterCart:a})}catch(e){null==i||i(!1)}}),function(t){return e.apply(this,arguments)}),[x,i]),D=(0,s.useCallback)((t=(0,n._)(function*(e){var{itemsToMove:t,primaryCart:r,savedForLaterCart:n,mutatePrimaryCart:a,mutateSavedForLaterCart:o}=e;null==i||i(!0),d(!0);try{yield T({itemsToMove:t,primaryCart:r,savedForLaterCart:n,mutatePrimaryCart:a,mutateSavedForLaterCart:o})}catch(e){null==i||i(!1)}}),function(e){return t.apply(this,arguments)}),[T,i]);return{addToCartViewsProps:(0,s.useMemo)(()=>({addToCartStatus:j,assets:v,eventLabel:S,gridItems:p,isAddToCartDialogActive:l,isPrimary:_,isSizeLimitWarning:A,isSnackBarOpen:c,onAddToCart:U,onAlertSnackbarClose:()=>d(!1),notAddedSelectVideos:P,setIsAddToCartDialogActive:u,pageSection:y,listId:w,snackBarActionAllowed:o}),[v,p,j,S,w,y,l,_,A,c,P,U,o]),addToCartViewsHandler:(0,s.useCallback)(e=>{var{assets:t,eventLabel:r,gridItems:n,isMoveToPrimaryCart:i=!1,isMoveToSavedForLaterCart:a=!1,isPrimaryCart:o=!0,mutatePrimaryCart:s,mutateSavedForLaterCart:l,primaryCart:c,savedForLaterCart:d,withDialog:v=!0,licenseId:p,licensePrice:f,pageSection:_,listId:y}=e;if(m(t),g(o),b(_),I(r),C(y),n&&h(n),i){E({itemsToMove:t,primaryCart:c,mutatePrimaryCart:s,mutateSavedForLaterCart:l});return}if(a){D({itemsToMove:t,primaryCart:c,savedForLaterCart:d,mutatePrimaryCart:s,mutateSavedForLaterCart:l});return}v?u(!0):U({assets:t,eventLabel:r,cart:c,licenseId:p,licensePrice:f,mutateCart:s,pageSection:_})},[U,E,D]),AddToCartViews:f}}},80849:function(e,t,r){r.d(t,{$1:function(){return o},GF:function(){return s},L4:function(){return d},Yd:function(){return l},d7:function(){return a},lj:function(){return v},po:function(){return c},q_:function(){return u},tK:function(){return i}});var n=r(59581),i=50,a=100,o=20,s=50,l={[n.k4]:"catalog_set",[n.pX]:"catalog_set_video"},u="imageAndVideo",c="asset_type",d={[u]:{assetType:null,optionKey:"contributor_portfolio:tab_label_images_and_videos",subtitleKey:"contributor_portfolio:collections_subtitle"},[n.k4]:{assetType:n.k4,filterByQuery:{"filter[collections][type]":l[n.k4]},optionKey:"common:links_images",subtitleKey:"ent:curated_image_collections_by"},[n.pX]:{assetType:n.pX,filterByQuery:{"filter[collections][type]":l[n.pX]},optionKey:"contributor_portfolio:tab_label_videos",subtitleKey:"ent:curated_video_collections_by"}},v=[d[u],d[n.k4],d[n.pX]]},85787:function(e,t,r){r.d(t,{r:function(){return P}});var n=r(81862),i=r(52850),a=r(6006),o=r(71629),s=r(666),l=r(9870),u=r(31118),c=r(95152),d=r(79428),v=r(2784),m=r(52322),p=r(25365),f=r(57460),h=r(2281),_=r(99067),g=r(25237),y=r.n(g),b=y()(()=>Promise.all([r.e(3764),r.e(45666)]).then(r.bind(r,45666)).then(e=>e.CompLicensingDialog),{loadableGenerated:{webpack:()=>[45666]},ssr:!1}),w=e=>{var{isOpen:t}=e,r=(0,h._)(e,["isOpen"]);return(0,_.B)(t)&&(0,m.jsx)(b,(0,f._)({isOpen:t},r))},C=y()(()=>Promise.all([r.e(3764),r.e(81189),r.e(1866),r.e(55540),r.e(69320)]).then(r.bind(r,68372)).then(e=>e.CompLicensingDrawer),{loadableGenerated:{webpack:()=>[68372]},ssr:!1}),S=e=>{var{isOpen:t}=e,r=(0,h._)(e,["isOpen"]);return(0,_.B)(t)&&(0,m.jsx)(C,(0,f._)({isOpen:t},r))},I=y()(()=>r.e(32215).then(r.bind(r,32215)).then(e=>e.CompLicensingSnackbar),{loadableGenerated:{webpack:()=>[32215]},ssr:!1}),k=e=>{var{isOpen:t}=e,r=(0,h._)(e,["isOpen"]);return(0,_.B)(t)&&(0,m.jsx)(I,(0,f._)({isOpen:t},r))},T=r(28007),x=function(){var{licensingError:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t}=(0,d.$G)(i.clK);return{cancel:t("common:actions_cancel"),downloadComp:t("common:actions_download_comp"),enterpriseCompLicense:t("ent:license_enterprise_comp"),genericErrorMessage:t("ent:license_now_error_message"),licensingError:(0,T.j2)({error:e,t}),licenseSuccess:t("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:t("common:actions_download_comp"),disclaimer:(0,m.jsx)(d.cC,{i18nKey:"ent:comp_disclaimer",ns:i.clK,components:{bold:(0,m.jsx)("strong",{})}}),addMetadataToAsset:t("ent:add_metadata_to_asset_comp"),metadataFound:t("ent:previous_metadata_found_comp"),metadataMissing:t("ent:previous_metadata_missing_comp"),title:t("ent:add_metadata_to_comp")}}},j=e=>{var{assets:t=null,compLicensingHandler:r,isDialogOpen:n=!1,isDrawerOpen:i=!1,isLicensing:a=!1,isSnackBarOpen:o=!1,licensingError:s=p.FD,onDialogClose:l,onDrawerClose:u,onSnackbarClose:c,selectedAssetSize:d="",setSelectedAssetSize:v,settingsData:f=p.FD}=e,h=x({licensingError:s});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{assets:t,isOpen:n,onClose:l,onLicense:r,labels:h,isLicensing:a,selectedAssetSize:d,setSelectedAssetSize:v,settingsData:f}),(0,m.jsx)(S,{assets:t,isLicensing:a,isOpen:i,labels:h,onClose:u,onLicense:r,selectedAssetSize:d}),(0,m.jsx)(k,{isOpen:o,message:h.licensingError,onClose:c})]})},A=r(35458),P=function(){var e,t,{allowMetadata:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[m,p]=(0,v.useState)(null),[f,h]=(0,v.useState)(""),[_,g]=(0,v.useState)(""),[y,b]=(0,v.useState)(!1),[w,C]=(0,v.useState)(!1),[S,I]=(0,v.useState)(!1),{isLicensing:k,licensingError:T,licensingStatus:x,setLicensingStatus:P,licensingAssetsHandler:U}=(0,u.Zo)(),E=(0,s.U)(),{data:D}=(0,c.B)(),O=(0,l.h)(D),R=(0,a.v)(),{t:z}=(0,d.$G)(i.PeY),N=z("file_name_edited"),M=(0,v.useCallback)((e=(0,n._)(function*(e){var{assets:t=[],assetSize:r,eventLabel:n,format:i,metadata:a,pageSection:o,listId:s}=e;h(t[0].id);var l=!1;try{var u=yield(0,A.qP)({assets:t,assetSize:r,format:i,metadata:a,selectedAssetSize:_}),{data:c}=yield U(u);if(!((0,A.bj)(t)&&1===t.length)){var d,v,m=(0,A.aT)(t)?O:void 0,p=(null==R?void 0:null===(d=R.current)||void 0===d?void 0:d.isPeacock)?e=>{var r;return R.current.downloader.resolveUrl(t[0],e,N,null==c?void 0:null===(r=c.meta)||void 0===r?void 0:r.licensedContent)}:void 0;yield(0,A.tX)({assets:t,compSize:m,licensedContent:null==c?void 0:null===(v=c.meta)||void 0===v?void 0:v.licensedContent,downloader:p}),E({assets:t,eventLabel:n,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:o,listId:s})}}catch(e){l=e}return h(""),l&&!w&&I(!0),{error:l}}),function(t){return e.apply(this,arguments)}),[w,O,U,E,_,N,R]),F=(0,v.useCallback)((t=(0,n._)(function*(e){var{assets:t,assetSize:n,format:i,eventLabel:a,metadata:s,pageSection:l,listId:u}=e;return(p(t),P(""),!y&&(0,o.U0)(t))?(b(!0),Promise.resolve(null)):!w&&(null==D?void 0:D.requireMetadataForComp)&&!s&&r?(n&&g(n),C(!0),Promise.resolve(null)):M({assets:t,assetSize:n,eventLabel:a,format:i,metadata:s,pageSection:l,listId:u})}),function(e){return t.apply(this,arguments)}),[r,M,y,w,D,P]),q=(0,v.useMemo)(()=>({assets:m,compLicensingHandler:F,compLicensingRequest:M,isDialogOpen:y,isDrawerOpen:w,isLicensing:k,isSnackBarOpen:S,licensingError:T,onDialogClose:()=>b(!1),onDrawerClose:()=>C(!1),onSnackbarClose:()=>I(!1),selectedAssetSize:_,setSelectedAssetSize:g,settingsData:D}),[m,F,M,y,w,k,S,T,_,D]);return{assetsToLicense:m,compLicensingHandler:F,compLicensingProps:q,CompLicensingViews:j,licensingAssetId:f,licensingStatus:x}}},35458:function(e,t,r){r.d(t,{SN:function(){return y},aT:function(){return k},bj:function(){return I},qP:function(){return S},tX:function(){return b}});var n,i,a,o,s=r(81862),l=r(57460),u=r(6692),c=r(81146),d=r(32212),v=r(59581),m=r(56364),p=r(8311),f=r(79239),h=r(76825),_=r(63380),g=r(64787),y=(n=(0,s._)(function*(e){var{assets:t,compSize:r,licensedContent:n,supplementalUrlType:i}=e,{downloadUrl:a,contentId:o,contentFormat:s,contentSize:l,supplementalUrls:u}=n[0]||{};if((null==u?void 0:u.length)&&i){var{url:c=a}=u.find(e=>{var{type:t}=e;return t===i})||{};return c}var v=t.find(e=>{var{id:t}=e;return t===o})||{},m=(0,h.Tp)(v),{filename:f,shouldUpdateFilename:_}=(0,p.G)({assets:t,contentId:o});if(_)try{var{data:y}=yield g.uS.post((0,d.u8)().formattedUrl,{data:[{media_id:v.id,media_type:m,comp_size:r,media_size:l,media_format:s,filename:f}]}),{attributes:b}=(null==y?void 0:y.data[0])||{};return b.url||a}catch(e){}return a}),function(e){return n.apply(this,arguments)}),b=(i=(0,s._)(function*(e){var{assets:t=[],compSize:r,assetSize:n,licensedContent:i=[],downloader:a=_.A_}=e;if(i.length>1){var o=(0,p.r)({assets:t,licensedContent:i}),s=(0,c.e)({urlParams:{filename:o.bundleFilename}}).formattedUrl,{data:l}=yield g.jl.post(s,o.content),{public_url:u}=l;return a(u)}return a((yield y({assets:t,compSize:r,assetSize:n,licensedContent:i})))}),function(e){return i.apply(this,arguments)}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{var t=(0,f.Fy)({asset:e});return(0,u._)((0,l._)({},e),{assetType:t,licenseId:m._rW[t]})})},C=(a=(0,s._)(function*(){var{url:e}=(0,d.d0)();try{return(yield g.uS.get(e).then(e=>null==e?void 0:e.data)).reduce((e,t)=>(0,u._)((0,l._)({},e),{[t.name]:"-"}),{})}catch(e){return{}}}),function(){return a.apply(this,arguments)}),S=(o=(0,s._)(function*(){var{assets:e,assetSize:t,format:r,metadata:n,selectedAssetSize:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n;return a||(a=yield C()),{assets:w(e),format:r||"",licenseMetadata:a,licensingType:m.dWU,selectedAssetSize:t||i||"",isVideoComp:!0}}),function(){return o.apply(this,arguments)}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,f.qw)({asset:e[0]||{}})===v.j0},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[v.pV,v.k4,v.ox].includes((0,f.qw)({asset:e[0]||{}}))}},99414:function(e,t,r){r.d(t,{q:function(){return o}});var n=r(56236),i=r(98761),a=r(51119),o=()=>{var e=(0,a.d)(),t=(0,i.W)(),{openQuickViewCart:r}=(0,n.P)();return{viewCartAction:e?t:r}}},31568:function(e,t,r){r.d(t,{g:function(){return v}});var n=r(57460),i=r(52322),a=r(45847),o=r.n(a),s=r(2784),l=r(98116),u=e=>({aspectRatioCommon:e.aspectRatioCommon,previewVideoUrls:e.previewVideoUrls,description:e.description,keywords:e.keywords}),c=e=>{var t;return{description:e.description,imageType:e.imageType,src:e.src,height:e.height,width:e.width,categories:e.categories,keywords:e.keywords,visuallySimilarVideos:(null!==(t=e.visuallySimilarVideos)&&void 0!==t?t:[]).map(u)}},d=(0,l.ZL)()(e=>{var{tokens:{border:t}}=e;return{versusGameWrapper:{width:"100%",position:"relative"},versusGameGridWrapper:{minHeight:"".concat(364,"px"),maxHeight:"".concat(364,"px"),zIndex:9,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:"174px",background:"#000000",borderRadius:"6px"},"&::after":{content:'""',position:"absolute",top:"195px",left:0,right:0,bottom:0,background:"transparent",borderRadius:t.radius.m}},versusGameADPWrapper:{minHeight:"".concat(400,"px"),maxHeight:"".concat(400,"px")},versusGameContainer:{maxWidth:"400px",margin:"auto",height:"100%",display:"flex",flexDirection:"column"}}}),v=(0,s.memo)(e=>{var{assets:t=[],relatedKeywords:r,query:a,spacing:s,isAssetGrid:l=!0,relatedAssetsToUse:u=[]}=e,v={query:a,relatedKeywords:r,assets:t.map(c),relatedAssetsToUse:u.map(c)},{cx:m,classes:p}=d();return(0,i.jsx)("div",{className:m(l?p.versusGameGridWrapper:p.versusGameADPWrapper,p.versusGameWrapper),style:(0,n._)({},s&&{margin:"".concat(s,"px")}),children:(0,i.jsxs)("div",{className:p.versusGameContainer,children:[(0,i.jsx)("versus-widget",{"x-type":"inline","x-id":"24de0999-328a-447d-9ebd-921caf160045","x-data":JSON.stringify(v)}),(0,i.jsx)(o(),{src:"https://minigames.versusgame.com/widget/versus-widget.js",id:"versus-widget",strategy:"lazyOnload"})]})})})},8311:function(e,t,r){r.d(t,{G:function(){return l},r:function(){return u}});var n=r(76825),i=r(55293),a="shutterstock",o="shutterstock_editorial",s=e=>{var{asset:t}=e;return(0,n.PD)(t)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,n.tS)({asset:t})?{prefix:o,shouldUpdateFilename:!1}:{prefix:a,shouldUpdateFilename:!1}},l=e=>{var{assets:t,contentId:r}=e,{prefix:n,shouldUpdateFilename:i}=s({asset:t.find(e=>{var{id:t}=e;return t===r})||{}});return{filename:"".concat(n,"_").concat(r),shouldUpdateFilename:i}},u=e=>{var{assets:t=[],licensedContent:r=[]}=e,s=t.every(e=>(0,n.tS)({asset:e})),u=r.map(e=>{var{contentId:r,downloadUrl:n,contentFormat:i}=e,{filename:a}=l({assets:t,contentId:r}),o=n.split("/").pop().split(".").pop();return(o.length>4||o.length<2)&&(o=i),{filename:"".concat(a,".").concat(o),url:n}}),c=(0,i.zs)();return{bundleFilename:"".concat(s?o:a,"_").concat(c,".zip"),content:u}}},71076:function(e,t,r){r.d(t,{$6:function(){return g},GA:function(){return m},Hg:function(){return d},Jj:function(){return b},KK:function(){return p},P1:function(){return I},Tw:function(){return y},c:function(){return S},tU:function(){return v}});var n=r(57460),i=r(6692),a=r(59581),o=r(67148),s=r(63325),l=r(71870),u=r(28007),c=r(76825),d=e=>{var{licenseName:t,cartData:r,asset:n}=e;return t?!!(null==r?void 0:r.items.find(e=>e.id===(null==n?void 0:n.id)&&e.licenseId===t)):!!(null==r?void 0:r.items.find(e=>e.id===(null==n?void 0:n.id)))},v=e=>{var{asset:t,unavailableAssets:r}=e;return!r.find(e=>e.contentId===(0,c.OP)({asset:t})&&e.contentType===t.type)},m=function(){var{errors:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(e=>s.Gu.includes(e))},p=e=>{var{cachedCart:t,newItems:r}=e,a=[...(null==t?void 0:t.items)||[],...r];return(0,i._)((0,n._)({},t),{items:a,count:a.length})},f=e=>{var{item:t,licensedAssets:r}=e;return(null==r?void 0:r.find(e=>{var{contentId:r}=e;return r===String(t.id)}))?0:t.isUnlimited?.1:parseFloat(t.price)},h=e=>{var{item1:t={},item2:r={},sortOrder:n,licensedAssets:i}=e,a=f({item:t,licensedAssets:i}),o=f({item:r,licensedAssets:i});return n===l.sl?a-o:o-a},_=e=>{var{item1:t,item2:r,sortField:n="addedTime",sortOrder:i}=e;return i===l.sl?Number(new Date(r[n]))-Number(new Date(t[n])):Number(new Date(t[n]))-Number(new Date(r[n]))},g=e=>{var{primaryCart:t,sortField:r,sortOrder:n,alreadyLicensedPrimaryAssets:i}=e;return t.sort((e,t)=>r===o.TK.ADDED_TIME?_({item1:e,item2:t,sortField:r,sortOrder:n}):h({item1:e,item2:t,sortField:r,sortOrder:n,licensedAssets:i}))},y=e=>{var t,{rolodexAddress:r}=e,[n,i]=(null===(t=r.streetLines)||void 0===t?void 0:t.split("\n"))||[],{locality:a,postalCode:o,region:s,country:l,company:u}=r;return{country:l,company:u,city:a,zip:o,state:s,address1:n,address2:i}},b=e=>{var t,{billingEntity:r}=e;return(null==r?void 0:null===(t=r.rolodexAddresses)||void 0===t?void 0:t.find(e=>{var t;return"licensing"===e.addressType||(null===(t=e.usages)||void 0===t?void 0:t.includes("licensing"))}))||{}},w=e=>{var{asset:t,alreadyLicensedAssets:r}=e;return(null==t?void 0:t.price)===a.q9||(0,u.te)({alreadyLicensedAssets:r,asset:t})},C=e=>{var{acc:t,asset:r,alreadyLicensedAssets:n}=e;return w({asset:r,alreadyLicensedAssets:n})?t:t+parseFloat(null==r?void 0:r.price)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(e=>{var{isUnavailableAsset:t}=e;return!t}).reduce((e,r)=>C({acc:e,asset:r,alreadyLicensedAssets:t}),0):0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every(e=>{var{price:t}=e;return t===a.q9})?a.q9:S(e,t)}},62389:function(e,t,r){r.d(t,{OG:function(){return y},_N:function(){return _},lK:function(){return g}});var n=r(81862),i=r(57460),a=r(32212),o=r(80849),s=r(59581),l=r(13271),u=r(71870),c=r(64787),d=r(75615),v=r(70314),m=r.n(v);r(38398);var p="publicInformation",{serverRuntimeConfig:{blockedContributors:f=[]}}=m()(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?[t.replace(/\/+$/,""),e.replace(/^\/*/,"/"),r?"?t=".concat(r):""].join(""):""},_=e=>{var{contributor:t}=e,r=null==t?void 0:t[p];if(!r||r.error)return{};var{facebookUsername:n,instagramUsername:a,linkedinUsername:o,twitterUsername:s}=r,l=n||a||o||s;return(0,i._)({bio:r.bio,name:r.displayName},l&&{social:{twitter:s,facebook:n,instagram:a,linkedIn:o}})},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=null==e?void 0:e[p];return!n||n.error?{}:{avatarImgUrl:h(n.cdnThumbPath,t,r),name:n.displayName}};(0,n._)(function*(e){var{queryParams:t}=e,r=(0,a.Dy)({queryParams:t}).formattedUrl,n=yield c.uS.get(r);return(0,d.O)(n.data)}),(0,n._)(function*(e){var{subPage:t,contributorId:r,query:n,isGoodBot:v=!1,headers:m={}}=e,{[u.jS]:p,q:f,sort:h,id:_,[l.p]:g,[o.po]:y}=n;if(t===s.k4||t===l.FA){var b=(0,i._)({"page[size]":o.d7,"page[number]":p,"filter[submitter]":r,sort:h,q:f},v||t===l.FA?{include:["categories","contributor"],"fields[images]":void 0}:{}),{formattedUrl:w}=(0,a._J)({queryParams:b}),C=yield c.uS.get(w,{headers:m});return(0,d.O)(C.data)||[]}if(t===s.pX){var S={page:p,pageSize:o.tK,"filter[submitter]":r,sort:h,q:f},{formattedUrl:I}=(0,a._B)({queryParams:S}),k=yield c.uS.get(I,{headers:m});return(0,d.O)(k.data)||[]}if(t===l.Oe&&_){var T=(0,i._)({id:_,viewAs:"public",pageNumber:p,pageSize:o.GF},v?{"fields[images]":void 0}:{}),{formattedUrl:x}=(0,a.Yz)({queryParams:T}),j=yield c.uS.get(x,{headers:m});return(0,d.O)(j.data)||[]}if(t===l.Oe&&!_){var A,P,U=Math.max(o.lj.findIndex(e=>y===e.assetType),0),{filterByQuery:E}=o.lj[U],D=(0,i._)({displayName:g,include:"collections.cover-item.media-item","fields[contributors]":"collections","page[collections][size]":o.$1,"page[collections][number]":p},E),{formattedUrl:O}=(0,a.rK)({queryParams:D}),R=yield c.uS.get(O);return(null===(P=(0,d.O)(R.data))||void 0===P?void 0:null===(A=P[0])||void 0===A?void 0:A.collections)||[]}return null});var y=e=>{var t,r,{contributorStats:n,isAdult:i,validPage:a}=e,o=(null==n?void 0:null===(t=n[s.n1])||void 0===t?void 0:t.approved)||0,l=(null==n?void 0:null===(r=n[s.FM])||void 0===r?void 0:r.approved)||0;return!a||i||!(o+l>=1)}},28007:function(e,t,r){r.d(t,{Ax:function(){return y},H8:function(){return m},NV:function(){return v},Tp:function(){return b},aW:function(){return w},iI:function(){return h},j2:function(){return _},lW:function(){return g},te:function(){return p},uP:function(){return d}});var n=r(57460),i=r(6692),a=r(30053),o=r(59581),s=r(68078),l=r(56364),u=r(76825),c=r(79239),d=e=>{var t,r,{license:n,existingAssetsLicenses:i}=e;if(!i)return!((null==n?void 0:n.licenseName)&&l.b53.includes(null==n?void 0:n.licenseName))&&i;var a=(0,c.Fy)({asset:n.mediaItem});return!!(null==i?void 0:null===(t=i[null===(r=n.mediaItem)||void 0===r?void 0:r.id])||void 0===t?void 0:t.some(e=>e!==l._rW[a]))},v=e=>{var{subscriptions:t=[]}=e;return t.some(e=>{var{redeemableFor:t}=e;return l.SkX.some(e=>e===t)})?l.s5m:l.Hv9},m=e=>e.reduce((e,t)=>{var r=t.licenseId;return e.includes(r)||e.push(r),e},[]),p=e=>{var{alreadyLicensedAssets:t,asset:r}=e;return!!t.find(e=>{var{contentId:t,contentType:n,licenseId:i}=e,a=r.type===o.k4?o.pV:r.type;return t===r.id&&n===a&&i===r.licenseId})},f=e=>{var{licenseType:t,existingLicenses:r,asset:n,isSelect:i=!1}=e,a=["footage_".concat(t,"_sd"),"footage_".concat(t,"_hd")],o=[...a,"footage_".concat(t,"_lowres")];return(i&&a.push("footage_".concat(t,"_4k")),n.licenseId==="footage_".concat(t,"_sd"))?null==r?void 0:r.some(e=>!!a.includes(e)):n.licenseId==="footage_".concat(t,"_lowres")&&(null==r?void 0:r.some(e=>!!o.includes(e)))},h=e=>{var t,{existingLicenses:r,asset:n}=e;switch(n.type){case o.FM:case o.pX:if(l.oPg.some(e=>f({asset:n,licenseType:e,existingLicenses:r})))return!0;return!!(null==r?void 0:r.includes(n.licenseId));case o.k4:default:return!!(null==r?void 0:r.includes(null===(t=n.licenseId)||void 0===t?void 0:t.replace(/_unlimited/,"")))}},_=e=>{var{error:t={},t:r}=e,{meta:n={}}=t;if((null==n?void 0:n.exception_type)===l.JW1){var{value:i}=n.errors.slice(-1).pop(),a="comp_limit"===i.name;return r("P1M"===i.period_length?a?"ent:monthly_comp_limit_reached":"ent:monthly_licensing_limit_reached":a?"ent:daily_comp_limit_reached":"ent:daily_licensing_limit_reached")}return r("ent:license_now_error_message")},g=e=>{var{error:t={},user:r={}}=e,{detail:n,headers:i={},message:a,meta:o={},name:u,source:c={},title:d}=t,{id:v,username:m,organizationId:p}=r||{},f=null==o?void 0:o.exception_type,h=(null==c?void 0:null===(_=c.request)||void 0===_?void 0:_.id)||(null==i?void 0:i[s.cp]);switch(f){case l.JW1:var _,g,y,b=null===(y=o.errors)||void 0===y?void 0:y.map(e=>{var{value:t}=e;return null==t?void 0:t.name});g="".concat(d,": ").concat(b.join(","));break;case l.vFJ:var w,C=null===(w=o.errors)||void 0===w?void 0:w.map(e=>{var{code:t,value:r}=e;return"".concat(t,": ").concat(null==r?void 0:r.content_type," - ").concat(null==r?void 0:r.content_id," - ").concat(null==r?void 0:r.content_size)});g="".concat(d,": ").concat(C.join(","));break;default:g=[f,d,n,a,u].reduce((e,t)=>t&&!e.includes(t)?[...e,t]:e,[]).join(", ")}return{organizationId:p,userId:v,username:m,errorSummary:g,error:t,requestId:h}},y=e=>{var{organizationId:t}=e;return"organization-".concat(t)},b=e=>{var{isEligibilityLoading:t,existingCurrentAssetLiceses:r}=e;return t?void 0:r||[]},w=e=>{var{asset:t,selectedLicenseId:r,activeFormatType:o,selectedShadowsOption:s}=e;return(0,n._)((0,i._)((0,n._)({},t),{itemType:t.itemType||(0,c.rw)({asset:t}),licenseId:r}),o===a._3&&{licenseAsJpeg:!0},(0,u.f8)(t)?{selectedFormatType:o,selectedShadowsOption:s}:{})}},40260:function(e,t,r){r.d(t,{H:function(){return i}});var n=r(63770),i=e=>{var t,{user:r}=e;return null==r?void 0:null===(t=r.roles)||void 0===t?void 0:t.includes(n.qy)}},83:function(e,t,r){r.d(t,{n:function(){return u}});var n=r(73816),i=r(57103),a=r(77546),o=r(53894),s=r(72609),l=e=>{var{acc:t,totalCostOfItems:r,amountRemaining:i,totalAmount:a,bypassLowBalance:o=!1}=e;return o||(r>i&&(t.hasInsufficientSubscriptionCredits=!0,t.hasLowDebitableBalance=!1,t.insufficientAmount=r-i),!t.hasInsufficientSubscriptionCredits&&i<=a*n.cG&&(t.hasLowDebitableBalance=!0)),t},u=e=>{var{items:t,subscriptions:r,subscription:u,hasWrapperSubscription:c=!0}=e;if(t&&t.length){var d={hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:n.Zm};return t.reduce((e,t)=>{var d,{licenseId:v,price:m}=t,p=(0,a.q)({assets:[t]}),f=u||(0,s.$)({subscriptions:null===(d=(0,o.A)({assetType:p,subscriptions:r}))||void 0===d?void 0:d.subscriptions,licenseName:v,assetType:p})||{},{totalAmount:h,amountRemaining:_,amountType:g,amount:y}=(0,i.Vp)(f);e.amountType=g;var b=parseFloat(m),w=parseFloat(e.total)+b;if(e.total+=b,g===n.vh){var C=parseFloat(y),S=parseFloat(e.totalCreditAmount)+C;return e.totalCreditAmount+=C,l({acc:e,totalCostOfItems:S,amountRemaining:_,totalAmount:h,bypassLowBalance:!c})}return l({acc:e,totalCostOfItems:w,amountRemaining:_,totalAmount:h,bypassLowBalance:!c})},d)}var v=r||{},m=Object.keys(v).find(e=>Array.isArray(v[e])&&v[e].length),p=m&&(0,i.bC)({subscriptions:v[m]||[]})[0]||{},{totalAmount:f,amountRemaining:h,amountType:_}=(0,i.Vp)(p);return{amountType:_,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:h<=f*n.cG,insufficientAmount:null}}},44694:function(e,t,r){r.d(t,{k:function(){return s}});var n=r(73816),i=r(57103),a=r(37861),o=r(83),s=e=>{var t,{items:r,isLoading:s,subscription:l,subscriptions:u,userCapabilities:c}=e;return s?{}:(l&&(t=l.creditType),u&&u.length>0&&(t=u[0].creditType),(0,i.Kc)({userCapabilities:c})?(0,o.n)({items:r,subscription:l,subscriptions:u,hasWrapperSubscription:(0,i.zF)({userCapabilities:c})}):{amountType:t||n.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:l&&0===(0,a.I)({subscription:l}),insufficientAmount:null})}},6918:function(e,t,r){r.d(t,{U:function(){return o}});var n=r(73816),i=r(76825),a=r(10218),o=e=>{var{uniqueSubscription:t}=e;if(!t)return{};var{priceAsAbsolute:r,creditCurrency:o,product:s}=t,l=(0,a.q)({subscription:t}),u=null!=o?o:null==s?void 0:s.currency;if(!r){var{creditPrice:c,creditType:d=n.Zm}=t;return{price:"".concat((0,i.lO)({price:c,isUnlimited:l})),priceType:d,currency:u}}var{price:v,priceType:m}=r;return{price:"".concat((0,i.lO)({price:v,isUnlimited:l})),priceType:m,currency:u}}},99129:function(e,t,r){r.d(t,{q:function(){return v}});var n=r(57165),i=r(23534),a=r(93992),o=r(64749),s=r(26481),l=r(53076),u=r(74780),c=r(32717),d=r(5632),v=e=>{var{assets:t,asset:r}=e,v=(0,u.p)("versus-game-widget"),{isMobileServer:m}=(0,a.n)(),p=(0,l.B)(),{isGoodBot:f}=(0,n.N)(),{region:h,locale:_}=(0,i.PE)(),{pathname:g}=(0,d.useRouter)(),y=(0,o.M)(),b=(0,c.mA)({pathname:g})||(0,c.xU)({pathname:g})||(0,c.Cf)({pathname:g}),{isBrandSstk:w}=(0,s.D)(),C=y&&!!(null==t?void 0:t.length);return{isEligibleForVersusGame:!!v&&!f&&"US"===h&&"en"===_&&m&&!p&&(C||b&&!!r)&&w}}},24351:function(e,t,r){r.d(t,{K:function(){return c}});var n=r(57460),i=r(6692),a=r(59581),o=r(37091),s=r(13716),l=r(62223),u=r(2784),c=()=>{var{analytics:e}=(0,l.yh)(),{getSearchContext:t}=(0,s.Y)(),r=(0,u.useCallback)(t=>{var{cartId:r,items:n}=t,i=(n||[]).map((e,t)=>(0,o.zm)({asset:e,cartId:r,index:t})),a=i.reduce((e,t)=>({totalPrice:e.totalPrice+Number(t.price),toBeBilled:e.toBeBilled+1}),{totalPrice:0,toBeBilled:0});e.cartViewed({products:i,cartId:r,cartTotal:Math.round(100*a.totalPrice)/100,numItemsBilledToCard:a.toBeBilled,shouldCheckout:a.totalPrice>0,shouldDownload:i.length>0&&0===a.totalPrice})},[e]);return{productAddedAnalyticsEvent:(0,u.useCallback)(r=>{var{cart:n,eventLabel:i,gridItems:a,items:s,licenseId:l,licensePrice:u,listId:c,pageSection:d}=r;e.productAdded({products:s.map(e=>(0,o.bR)({asset:e,cartData:n,getSearchContext:t,gridItems:a,licenseId:l,licensePrice:u,pageSection:d})),eventLabel:i,list_id:null!=c?c:""})},[e,t]),productRemovedAnalyticsEvent:(0,u.useCallback)(r=>{var{cart:s,eventLabel:l,gridItems:u,items:c,listId:d,matchingCartItem:v,pageSection:m}=r;if(v){var[p]=c;e.productRemoved((0,i._)((0,n._)({},(0,o.bR)({asset:p,cartData:s,getSearchContext:t,gridItems:u,pageSection:m})),{price:v.price===a.q9?0:Number(v.price),variant:v.licenseId,eventLabel:l,list_id:null!=d?d:""}))}else e.productRemoved({products:c.map(e=>(0,o.bR)({asset:e,cartData:s,getSearchContext:t,gridItems:u,pageSection:m})),eventLabel:l,list_id:null!=d?d:""})},[e,t]),cartViewedAnalyticsEvent:r}}},68400:function(e,t,r){r.d(t,{y:function(){return _}});var n,i=r(81862),a=r(57460),o=r(6692),s=r(36006),l=r(24138),u=r(12528),c=r(26481),d=r(18111),v=r(69236),m=r(91953),p=(n=(0,i._)(function*(e){var{items:t,trackingId:r}=e;0!==t.length&&(yield(0,m.t)("/message-gateway/ip-review",(0,o._)((0,a._)({method:"POST",requireAuth:!0},(0,v.S)({trackingId:r})),{body:{media:t.map(e=>({mediaId:e}))}})))}),function(e){return n.apply(this,arguments)}),f=r(14010),h=r(2784),_=function(){var e,{trackingId:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,d.H)("/"),{isBrandEnterprise:n}=(0,c.D)(),v=(0,f.NL)();return{queueIpReview:(0,h.useCallback)((e=(0,i._)(function*(e){if(n){var i,c,d=e.reduce((e,t)=>(0,l.k7)(t)?[...e,String(t.id)]:e,[]);if(d.length){var m=(yield v.fetchQuery({queryKey:(0,u.Ol)({assetIds:d}),queryFn:e=>{var{queryKey:t}=e;return(0,u.iP)(r,t)}})).reduce((e,t)=>(null==t?void 0:t.isIpReviewed)===!1&&(null==t?void 0:t.ipReviewStatus)!==s.hA?[...e,t]:e,[]);try{if(m.length){yield p({items:m.map(e=>null==e?void 0:e.classicId),trackingId:t});var f=m.map(e=>(v.setQueryData(null==e?void 0:e.queryKey,[(0,o._)((0,a._)({},e),{isIpReview:!1,ipReviewStatus:s.hA})]),v.invalidateQueries({queryKey:null==e?void 0:e.queryKey,predicate:t=>{var{queryKey:r}=t;return r===(null==e?void 0:e.queryKey)}})));yield Promise.all(f)}}catch(e){null===(c=window.NREUM)||void 0===c||null===(i=c.noticeError)||void 0===i||i.call(c,e,{message:"Error adding assets to queue for IP review: ".concat(m.map(e=>null==e?void 0:e.classicId).join(", "),"\ntrackingId: ").concat(t)})}}}}),function(t){return e.apply(this,arguments)}),[r,n,t,v])}}},9870:function(e,t,r){r.d(t,{h:function(){return a}});var n=r(40260),i=r(53076),a=e=>{var{data:t}=(0,i.jy)();return(0,n.H)({user:t})?null==e?void 0:e.compSizeImage:null==e?void 0:e.compSizeSubImage}},31118:function(e,t,r){r.d(t,{Zo:function(){return es}});var n=r(81862),i=r(57460),a=r(6692),o=r(32212),s=r(28603),l=r(59581),u=r(14417),c=r(68078),d=r(56364),v=r(73816),m=r(23534),p=r(37091),f=r(9787),h=r(79239),_=r(28007),g=r(3731),y=r(69236),b=r(90645),w=r(10218),C=r(37387),S=r(72609),I=r(13716),k=r(62223),T=r(2784),x=()=>{var{analytics:e}=(0,k.yh)(),{getSearchContext:t}=(0,I.Y)();return(0,T.useCallback)(r=>{var{assets:n=[]}=r,i=t(n[0]);e.productLicensed({products:n.map(e=>(0,p.bR)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:i})},[e,t])},j=r(88379),A=r(26481),P=r(76825),U=r(64787),E=e=>{var t,{assets:r}=e,n=(0,P.Tp)(r[0]);return{include:"subscriptions",content_type:(0,h.JD)({assetType:n,assetId:null===(t=r[0])||void 0===t?void 0:t.id}),content_ids:r.reduce((e,t)=>[...e,t.id.toString()],[]).join(",")}},D=e=>{var{assets:t}=e,r={};return t.forEach(e=>{var t=(0,P.Tp)(e),n=(0,h.JD)({assetId:e.id,assetType:t});r[n]=[...r[n]?r[n]:[],e]}),r},O=e=>{var{assetEligibility:t}=e,{permittedLicenses:r,subscriptions:n}=t;return null==n?void 0:n.filter(e=>{var{license:t}=e;return r.includes(t.replace("_unlimited",""))})},R=e=>{var t,{assets:r=[],user:n}=e;return null===(t=Object.values(D({assets:r})))||void 0===t?void 0:t.map(e=>{var t=E({assets:e}),{formattedUrl:r}=(0,o.Td)({urlParams:{licenseeIdentifier:"organization-".concat(null==n?void 0:n.organizationId)},queryParams:t});return U.uS.get(r)})},z=e=>{var{data:t}=e,r=[];return t.map(e=>{var t=e.id.split("-"),n=t[t.length-1],i=O({assetEligibility:e});return r.push({assetId:n,subscriptions:i})}),r},N=r(53076),M=r(43907),F=r(75615),q=r(92562),L=r(80430),G=r(52850),B=r(7665),V=r(33750),W=r(30726),K=r(71076),H=r(95152),X=r(21763),$=r(82098),Z=r(60212),J=r(79428),Y=new RegExp(W.C),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emailCartCheckoutConfirmation:t,orderEmail:r}=e;return t&&r?r.split(",").filter(e=>Y.test(e)):[]},ee=e=>{var{purchaseOrder:t}=e;return"".concat(null==t?void 0:t[0]," : ").concat(null==t?void 0:t[1]).split(" ").map(e=>(0,Z.k)(e)).join(" ")},et=e=>{var{t,keys:{currentYear:r,emailAddress:n,purchaseOrder:i}}=e;return{copyright:t("site-footer:copyright",{CURRENT_YEAR:r}),emailSentTo:t("ent:email_sent_to",{EMAIL_ADDRESS:n}),emailSubjectLine:"".concat(t("ent:order_confirmation_email_subject")," | ").concat(ee({purchaseOrder:i})),name:t("account:profile_name"),needAssistance:t("ent:contact_sales_representative"),orderConfirmation:t("ent:order_confirmation"),purchaseInformation:t("ent:purchase_information_key"),shutterstockAddress:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:t("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:t("ent:not_an_invoice")}},er=()=>{var{t:e}=(0,J.$G)(G.jp5),{data:t}=(0,N.jy)(),{data:r}=(0,X.b)(),{data:n}=(0,H.B)(),{name:i,email:a,phone:o}=(0,$.z)({fetchTrigger:!0})||{},{locale:s,fullLocale:l}=(0,m.PE)(),u=(0,j.o)();return{sendOrderConfirmationEmails:(0,T.useCallback)(function(){var{cartTotalCurrency:c,filteredOrderMetadata:d,licenseMetadata:v,priceType:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[...(null==r?void 0:r.emailCartCheckoutConfirmation)?[null==t?void 0:t.email]:[],...Q(n)];if(p.length&&(null==d?void 0:d.length)){var f,h,_,g,y=et({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:null==t?void 0:t.email,purchaseOrder:Object.entries(v)[0],repName:i,repPhoneNumber:o,repEmail:a}});try{var b={cartItems:d,fullName:null==t?void 0:t.fullName,invoiceDate:new Intl.DateTimeFormat(l).format(new Date),labels:y,licenseMetadata:v,repEmail:a,repName:i,repPhoneNumber:o,totalAmount:u({price:(0,K.P1)(d,[]),localeCurrencyOverride:c,priceType:m}),username:null==t?void 0:t.username};U.IZ.post((0,B.K0)().formattedUrl,{emails:[...new Set(p)],emailBody:b,emailSubject:"".concat(y.emailSubjectLine),language:s})}catch(e){null===(h=window.NREUM)||void 0===h||null===(f=h.setTransactionName)||void 0===f||f.call(h,"sendOrderConfirmationEmail/".concat(V.mI)),null===(g=window.NREUM)||void 0===g||null===(_=g.noticeError)||void 0===_||_.call(g,e,{message:"Failed sending order confirmation emails to: ".concat(p.join(", "))})}}},[l,s,n,u,a,i,o,e,null==t?void 0:t.email,null==t?void 0:t.fullName,null==t?void 0:t.username,null==r?void 0:r.emailCartCheckoutConfirmation])}},en=r(85550),ei={[d.dWU]:o.CE,[d.zM6]:o.s0},ea=e=>{var t,r,{asset:n,subscriptions:i}=e,a=(0,h.qw)({asset:n}),{licenseId:o,contentTier:s}=n;switch(a){case l.pX:return(0,C.I)({assetType:l.pX,subscriptions:[...null!==(t=null==i?void 0:i.videoSubscriptions)&&void 0!==t?t:[],...null!==(r=null==i?void 0:i.videoCompSubscriptions)&&void 0!==r?r:[]],selectedLicenseId:o});case l.xF:case l.j0:return(0,S.$)({subscriptions:[...i.musicSubscriptions,...i.musicCompSubscriptions],licenseName:n.licenseId});case l.tn:return(0,S.$)({subscriptions:[...i.sfxSubscriptions,...i.sfxCompSubscriptions],licenseName:n.licenseId});case l.gP:return(0,S.$)({subscriptions:[...i.editorialImageSubscriptions,...i.editorialImageCompSubscriptions,...i.editorialVideoSubscriptions,...i.editorialVideoCompSubscriptions],licenseName:n.licenseId,contentTier:s});case l.k4:default:return(0,S.$)({subscriptions:[...i.imageSubscriptions,...i.imageCompSubscriptions],licenseName:n.licenseId,contentTier:s})}},eo=e=>{var{asset:t,subscriptions:r}=e,n=ea({asset:t,subscriptions:r});return(0,w.q)({subscription:n})?(0,a._)((0,i._)({},n),{creditPrice:l.q9,creditType:v.Zm}):n},es=()=>{var e,{isBrandEnterprise:t}=(0,A.D)(),{data:r}=(0,M.av)(),[o,v]=(0,T.useState)(!1),[w,S]=(0,T.useState)(""),[I,P]=(0,T.useState)({}),{data:E}=(0,N.jy)(),[,D]=(0,q.VM)(e=>e),O=(0,k.uA)(),{analytics:G}=(0,k.yh)(),B=(0,p.UM)(G),V=(0,b.y)(B),W=O||(0,L.CU)(),K=x(),H=(0,j.o)(),X=(0,en.GB)(),{locale:$}=(0,m.PE)(),{sendOrderConfirmationEmails:Z}=er();return{isLicensing:o,licensingAssetsHandler:(0,T.useCallback)((e=(0,n._)(function*(e){var{alreadyLicensedAssets:o=[],assets:m=[],cartMetadata:p={},format:b="",licenseeMetadata:w={},isVideoComp:I=!1,licenseMetadata:k={},licensingType:T,selectedAssetSize:x=""}=e,j=(A=(0,n._)(function*(){var e,o=z({data:(yield Promise.all(R({assets:m,user:E}))).map(e=>{var{data:t}=e;return(0,F.O)(t)}).flat()}),s=m.map((e=(0,n._)(function*(e){var t=(0,h.qw)({asset:e}),{licenseId:r}=e,{subscriptions:n}=(null==o?void 0:o.find(t=>{var{assetId:r}=t;return r===String(e.id)}))||{},{id:s,license:c}=(0,C.I)({assetType:t,subscriptions:n,selectedLicenseId:r})||{},d=yield(0,f.Oo)({asset:e,format:b,selectedAssetSize:x,licenseName:c,isVideoComp:I});return(0,a._)((0,i._)({},d,x&&g.Bg[x]&&{comp_size:x},t===l.tn&&{override_filename:"".concat(u.Oq,"_").concat(e.id,".").concat(b||d.content_format)},t===l.w5&&{content_provider:l._R}),{license_name:c,show_modal:!0,subscription_id:s})}),function(t){return e.apply(this,arguments)}));return{licensingPayload:{content:yield Promise.all(s),license_metadata:k,required_cookies:"",decode_hadron_ids:t},orderMetadata:m.map(e=>{var{currency:t,description:n,descriptionLanguageMap:i={},id:a,itemType:o,headline:s,licenseId:l,preview:u={},price:c,priceType:d,src:v,thumb:m,thumbImageUrl:p,title:f,type:h}=e,_=t,g=c,y=d;if(!_||!g||!y){var{creditCurrency:b,creditPrice:w,creditType:C}=eo({asset:e,subscriptions:r});_=_||b,g=g||w,y=d||C}return _&&!O&&(O=_),y&&!N&&(N=y),{description:i[$]||n,formattedPrice:H({price:g,localeCurrencyOverride:_,priceType:y}),headline:s,id:a,itemType:o,licenseId:l,licenseName:X({licenseName:l}),price:g,priceType:y,thumbnailSrc:v||p||u.url||m,title:f,type:h}})}}),function(){return A.apply(this,arguments)});try{v(!0),S("");var A,O,N,M,q,{licensingPayload:L,orderMetadata:G}=yield j(),B=ei[T]({urlParams:{licenseeIdentifier:"organization-".concat(null==E?void 0:E.organizationId)}}).formattedUrl,J=yield U.uS.post(B,L,(0,y.S)((0,i._)({trackingId:W},V?{headers:{[c.as]:V}}:{})));if(K({assets:m}),D({assets:m,metadata:p,licensedContent:(null===(q=(0,F.O)(J.data))||void 0===q?void 0:null===(M=q.meta)||void 0===M?void 0:M.licensedContent)||[]}),!m.some(e=>{var{licenseId:t}=e;return d.b53.includes(t)})){var Y=G.filter(e=>!(0,_.te)({alreadyLicensedAssets:o,asset:e}));Z({cartTotalCurrency:O,filteredOrderMetadata:Y,licenseMetadata:w,priceType:N})}return S(s.MR),J}catch(e){var Q,ee,et=(0,_.lW)({error:e,user:E});throw null===(ee=window.NREUM)||void 0===ee||null===(Q=ee.addPageAction)||void 0===Q||Q.call(ee,"Enterprise licensing error",(0,a._)((0,i._)({},et),{alreadyLicensedAssets:o,assets:m.map(e=>{var{id:t,type:r}=e;return{id:t,type:r}}),cartMetadata:p,format:b,licenseeMetadata:w,isVideoComp:I,licenseMetadata:k,licensingType:T,selectedAssetSize:x})),P(e),S(s.cM),e}finally{v(!1)}}),function(t){return e.apply(this,arguments)}),[E,t,$,H,X,r,W,K,D,Z,V]),licensingError:I,licensingStatus:w,setIsLicensing:v,setLicensingStatus:S}}},85550:function(e,t,r){r.d(t,{GB:function(){return l}});var n=r(52850),i=r(26481),a=r(79428),o=r(2784),s="ent:license_",l=()=>{var{t:e}=(0,a.$G)(n.PRh),{isBrandSstk:t}=(0,i.D)();return(0,o.useCallback)(function(){var r,n,i,{licenseName:a,subscription:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(a&&(r="".concat(s).concat(null==a?void 0:a.replace(/_unlimited/,""))),o&&(t&&(r="".concat("ecomm:license_").concat(null===(n=o.product)||void 0===n?void 0:n.name)),!t&&o.redeemableFor&&(r="".concat(s).concat(null===(i=o.redeemableFor)||void 0===i?void 0:i.replace(/_unlimited/,"")))),r)?e(r):""},[t,e])}},98761:function(e,t,r){r.d(t,{W:function(){return u}});var n=r(57460),i=r(6692),a=r(26481),o=r(5632),s=r(2784),l=r(24398),u=()=>{var e=(0,l.k)(),{isBrandSstk:t}=(0,a.D)(),r=(0,o.useRouter)();return(0,s.useCallback)(()=>{if(t){var a,o;null===(o=window.NREUM)||void 0===o||null===(a=o.addPageAction)||void 0===a||a.call(o,"UP3-1623 assign useCartRedirect cartHref to href",(0,i._)((0,n._)({},window.location||{}),{cartHref:e,isBrandSstk:t})),window.location.href=e}else r.push(e)},[e,t,r])}},64749:function(e,t,r){r.d(t,{M:function(){return o}});var n=r(32717),i=r(5632),a=/^\/search(.+)?$/,o=()=>{var{asPath:e}=(0,i.useRouter)();return a.test((0,n.oY)(e))}},19778:function(e,t,r){r.d(t,{D9:function(){return B},GH:function(){return W},Z4:function(){return H},gV:function(){return K},kC:function(){return V}});var n=r(81862),i=r(57460),a=r(6692),o=r(2281),s=r(62054),l=r(28603),u=r(30053),c=r(10242),d=r(59581),v=r(67148),m=r(3456),p=r(21421),f=r(73816),h=r(37091),_=r(9787),g=r(79239),y=r(76825),b=r(71341),w=r(57103),C=r(74153),S=r(10218),I=r(44694),k=r(72609),T=r(6918),x=r(83140),j=r(68400),A=r(43907),P=r(45223),U=r(64787),E=r(5632),D=r(2784),O=r(3255),R=r(24351),z=r(13716),N=r(53076),M="Size limit warning",F=e=>{var t,{item:r,subscriptions:n}=e,{itemType:i,metadata:a}=r,o=(0,y.Qo)({asset:r}),s=null==a?void 0:null===(t=a.cart)||void 0===t?void 0:t.licenseId,{allSubscriptions:l}=n;switch(i){case d.pX:return(0,x.I)({licenseName:s,subscriptions:l});case d.j0:case d.tn:case d.k4:default:return(0,k.$)({licenseName:s,subscriptions:l,assetType:i,contentTier:o})}},q=e=>{var t,r,{item:n}=e;return(null===(t=n.largeThumb)||void 0===t?void 0:t.url)||(null===(r=n.preview)||void 0===r?void 0:r.url)||n.preview||n.thumb||""},L=e=>{var t,{asset:r}=e;return r.itemType===d.k4&&!r.sizes&&!(null===(t=r.metadata)||void 0===t?void 0:t.cart.sizes)},G=e=>{var t,r,{item:n}=e,o=(0,y.EK)(n);if(n.itemType===d.w5){var s,l,u,v,m,p,f,h,_,g,w,C=null==n?void 0:null===(h=n.product)||void 0===h?void 0:null===(f=h.productPreviews[0])||void 0===f?void 0:null===(p=f.previewThumbnailImages)||void 0===p?void 0:p.find(e=>{var{resolution:t}=e;return"res600x600"===t}),S={[c.RA]:{height:600,width:600,src:"https://".concat(null==C?void 0:null===(_=C.assetFile)||void 0===_?void 0:_.s3Path)}};return{[c.RA]:{height:600,width:600,src:(0,b.VC)((0,a._)((0,i._)({},n),{angle:null==n?void 0:null===(w=n.metadata)||void 0===w?void 0:null===(g=w.cart)||void 0===g?void 0:g.angle,displays:S}))}}}return o?{[c.bm]:{height:n.height||(null===(t=n.preview)||void 0===t?void 0:t.height),width:n.width||(null===(r=n.preview)||void 0===r?void 0:r.width),src:n.preview||n.thumb}}:{[c.RA]:{height:(null===(s=n.largeThumb)||void 0===s?void 0:s.height)||(null===(l=n.preview)||void 0===l?void 0:l.height),width:(null===(u=n.largeThumb)||void 0===u?void 0:u.width)||(null===(v=n.preview)||void 0===v?void 0:v.width),src:null===(m=n.preview)||void 0===m?void 0:m.url}}},B=e=>{var{cartItems:t=[],subscriptions:r}=e;return t.filter(e=>[d.k4,d.w5,d.pX,d.j0,d.tn,d.gP,d.cF].includes(e.itemType)).map(e=>{var t,n,o,s,l,u,v,m,_,g,y,b,w,I=F({item:e,subscriptions:r}),k=G({item:e}),x=q({item:e}).replace("-150nw","-260nw"),{price:j=0,priceType:A=f.Zm}=(0,T.U)({uniqueSubscription:I}),P=x||(null==k?void 0:null===(t=k[c.RA])||void 0===t?void 0:t.src),U=null===(n=e.assets)||void 0===n?void 0:n.find(e=>{var{assetClass:t}=e;return t===p.TT}),E=[d.w5,d.k4].includes(e.itemType)&&!e.src,D=null===(o=e.meta)||void 0===o?void 0:o.search_context;return(null===(l=e.metadata)||void 0===l?void 0:null===(s=l.cart)||void 0===s?void 0:s.searchContext)&&(D=(0,h.Be)({trackingId:null===(g=e.metadata)||void 0===g?void 0:null===(_=g.cart)||void 0===_?void 0:null===(m=_.searchContext)||void 0===m?void 0:m.searchTrackingId,searchTerm:null===(w=e.metadata)||void 0===w?void 0:null===(b=w.cart)||void 0===b?void 0:null===(y=b.searchContext)||void 0===y?void 0:y.searchTerm})),(0,i._)((0,a._)((0,i._)((0,a._)((0,i._)({},e),{id:e.itemId}),[d.k4,d.w5,d.gP,d.cF].some(t=>t===e.itemType)&&{image:{id:e.itemId,categories:e.categories,description:e.description||e.subhead||"",url:P,isEditorial:!!e.isEditorial,isPremium:!!e.isPremium,displays:k,permalink:e.permalink,isIllustration:e.isIllustration,isVector:e.isVector}}),{type:e.itemType,isFootageSelect:e.footageSelect,price:j,priceType:A,waveformPng:e.waveformPng||(null==U?void 0:U.externalUrl),currency:(null==I?void 0:I.creditCurrency)||"",licenseId:(null===(v=e.metadata)||void 0===v?void 0:null===(u=v.cart)||void 0===u?void 0:u.licenseId)||"",subscriptionId:(null==I?void 0:I.id)||"-",hasCreditsRemaining:(0,C.r)({subscription:I}),isPixelSquid:e.itemType===d.w5,isUnavailableAsset:L({asset:e}),isUnlimited:(0,S.q)({subscription:I}),isUnavailableSubscription:!I,meta:(0,i._)({},D?{search_context:D}:{})}),E&&{src:P})})},V=e=>{var{isPrimary:t}=e;return(0,s.dv)({urlParams:{isPrimary:t}}).formattedUrl},W=e=>{var{isPrimary:t}=e,r=(0,N.B)(),{data:n}=(0,A.av)();return(0,O.ZP)(r&&n?V({isPrimary:t}):null,e=>U.jm.get(e).then(e=>{var{data:t}=e;return t&&(0,a._)((0,i._)({},t),{items:B({cartItems:t.items,subscriptions:n})})}))},K=()=>{var e,t,r,o,c,p,{mutate:f}=(0,O.kY)(),[h,y]=(0,D.useState)({status:"",error:void 0}),[b,w]=(0,D.useState)(!1),C=(0,D.useRef)(!1),{productAddedAnalyticsEvent:S,cartViewedAnalyticsEvent:I,productRemovedAnalyticsEvent:k}=(0,R.K)(),{getSearchContext:T}=(0,z.Y)(),x=(0,E.useRouter)(),{queueIpReview:A}=(0,j.y)({trackingId:null===(p=T())||void 0===p?void 0:p.search_tracking_id}),P=(0,D.useCallback)(e=>{void 0===(null==e?void 0:e.cartId)||C.current||(C.current=!0,I(e))},[C,I]),N=(0,D.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>{var{id:r}=e;return -1===t.findIndex(e=>{var{id:t}=e;return r===t})})},[]),F=(0,D.useCallback)(e=>{var{cartItems:t=[],itemsToAdd:r=[]}=e,n=[...t];return r.forEach(e=>{var t=(0,g.rw)({asset:e}),r=n.findIndex(r=>{var{id:n,type:i}=r;return n===e.id&&i===t});r>-1?n[r]=(0,i._)({},e):n.unshift((0,a._)((0,i._)({},e),{addedTime:new Date}))}),n},[]),q=(0,D.useCallback)((e=(0,n._)(function*(e){var t,{items:r,licenseId:a,licenseAsJpeg:o}=e;return Promise.all(null==r?void 0:r.map((t=(0,n._)(function*(e){var t=(0,g.rw)({asset:e}),r=a||e.licenseId,n=o||e.licenseAsJpeg,s=yield(0,_.Oo)({asset:e,licenseName:r});return{item_id:e.id,item_type:t,metadata:{cart:(0,i._)({license_id:r,license_as_jpeg:n,subscription_id:e.subscriptionId,size:s.content_size,format:s.content_format,sizes:(0,_.rB)({asset:e}),search_context:T(e),source:[d.gP,d.cF].some(e=>e===t)?m._e:""},t===d.w5&&{angle:s.angle})}}}),function(e){return t.apply(this,arguments)})))}),function(t){return e.apply(this,arguments)}),[T]),L=(0,D.useCallback)((t=(0,n._)(function*(e){var{cart:t,eventLabel:r,gridItems:n,isPrimary:o=!0,itemsToAdd:c,licenseId:d,formatType:m,licensePrice:p,mutateCart:h,withOptimisticUpdate:_=!0,pageSection:g,listId:b}=e;try{var C=c.map(e=>(0,a._)((0,i._)({},e),{meta:(0,i._)({search_context:T(e)},e.meta)}));y({status:"",error:void 0}),w(!1);var I=F({cartItems:t.items,itemsToAdd:C});if(I.length>v.fv){y({status:l.cM}),w(!0);return}_&&h(e=>(0,a._)((0,i._)({},e),{items:I}),!1);var x=(0,s.Xq)({urlParams:{isPrimary:o}}).formattedUrl,j=yield q({items:C,licenseId:d,licenseAsJpeg:m===u._3});yield U.jm.post(x,j),y({status:l.MR}),A(c),o&&C.forEach(e=>{var i=t.items.find(t=>{var{id:r}=t;return r===e.id});i&&d!==i.licenseId&&k({cart:t,eventLabel:r,gridItems:n,items:[e],matchingCartItem:i,pageSection:g}),S({cart:t,eventLabel:r,gridItems:n,items:[e],licenseId:d,licensePrice:p,pageSection:g,listId:b})})}catch(e){y({status:l.cM,error:e})}finally{yield f(V({isPrimary:o}))}}),function(e){return t.apply(this,arguments)}),[F,q,T,S,k,f,A]);return{triggerCartViewedEvent:P,addCartItems:L,removeCartItems:(0,D.useCallback)((r=(0,n._)(function*(e){var{cartData:t,eventLabel:r,gridItems:n,isPrimary:o=!0,itemsToRemove:l=[],mutateCart:u,pageSection:c,routePathProps:d,withOptimisticUpdate:v=!0,mutateCallback:m}=e;try{v&&u(e=>(0,a._)((0,i._)({},e),{items:N(e.items,l)}),!1);var p=(0,s.h2)({urlParams:{isPrimary:o}}).formattedUrl;yield U.jm.delete(p,{data:l.map(e=>({item_id:e.id,item_type:(0,g.rw)({asset:e})}))}),o&&k({cart:t,eventLabel:r,gridItems:n,items:l,pageSection:c}),d&&x.push(...d)}catch(e){}finally{m?m({isPrimary:o}):yield f(V({isPrimary:o}))}}),function(e){return r.apply(this,arguments)}),[N,k,x,f]),moveToSaveForLater:(0,D.useCallback)((o=(0,n._)(function*(e){var{eventLabel:t,itemsToMove:r,pageSection:n,primaryCart:o,savedForLaterCart:u,mutatePrimaryCart:c,mutateSavedForLaterCart:d}=e;y({status:"",error:void 0}),w(!1);var m=F({cartItems:u.items,itemsToAdd:r});if(m.length>v.fv)throw y({status:l.cM}),w(!0),Error(M);c(e=>(0,a._)((0,i._)({},e),{items:N(e.items,r)}),!1),d(e=>(0,a._)((0,i._)({},e),{items:m}),!1);var p=(0,s.FB)({urlParams:{fromCartType:v.Yl,toCartType:v.d7}}).formattedUrl,f=yield q({items:r});yield U.jm.post(p,f),k({cart:o,eventLabel:t,items:r,pageSection:n})}),function(e){return o.apply(this,arguments)}),[F,q,k,N]),moveToPrimary:(0,D.useCallback)((c=(0,n._)(function*(e){var{itemsToMove:t,primaryCart:r,mutatePrimaryCart:n,mutateSavedForLaterCart:o}=e;y({status:"",error:void 0}),w(!1);var u=F({cartItems:r.items,itemsToAdd:t});if(u.length>v.fv)throw y({status:l.cM}),w(!0),Error(M);o(e=>(0,a._)((0,i._)({},e),{items:N(e.items,t)}),!1),n(e=>(0,a._)((0,i._)({},e),{items:u}),!1);var c=(0,s.FB)({urlParams:{fromCartType:v.d7,toCartType:v.Yl}}).formattedUrl,d=yield q({items:t});yield U.jm.post(c,d),S({cart:r,items:t})}),function(e){return c.apply(this,arguments)}),[F,q,S,N]),addToCartStatus:h,setAddToCartStatus:y,isSizeLimitWarning:b}},H=e=>{var{cartItems:t}=e,{data:r}=(0,A.av)(),n=(0,P.U)(),{isLoading:i}=n,a=(0,o._)(n,["isLoading"]),s=(e=>{var{items:t}=e;return null==t?void 0:t.some(e=>{var{hasCreditsRemaining:t}=e;return!t})})({items:t}),{amountType:l,hasInsufficientSubscriptionCredits:u,insufficientAmount:c,hasLowDebitableBalance:d}=(0,I.k)({items:t,isLoading:!r||i,subscriptions:r,userCapabilities:a});return{amountType:l,isDebitableUser:(0,w.Kc)({userCapabilities:a}),userCanViewDebitableBalance:(0,w.LQ)({userCapabilities:a}),hasInsufficientCartItemsCredits:s,hasInsufficientSubscriptionCredits:u,insufficientAmount:c,hasLowDebitableBalance:d}}},95152:function(e,t,r){r.d(t,{B:function(){return v}});var n=r(57460),i=r(32212),a=r(56364),o=r(67449),s=r(20410),l=r(53076),u=r(64787),c=r(75615),d=r(3255),v=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t}=(0,l.jy)(),r=(0,n._)({target:a.dlz,site_name:o.mC,setting_type:a.dlz},e);return(0,d.ZP)((null==t?void 0:t.id)&&(null==t?void 0:t.organizationId)&&(0,i.nI)({queryParams:r}).formattedUrl,e=>u.uS.get(e).then(e=>(0,c.O)(e.data)),{dedupingInterval:s.yR})}},9338:function(e,t,r){r.d(t,{$:function(){return _},d:function(){return f}});var n=r(32212),i=r(59581),a=r(68078),o=r(51119),s=r(53076),l=r(31437),u=r(64787),c=r(75615),d=r(93219),v=r(54466),m=r(3255),{thumbsRewriteHostname:p}=(0,v.j)(),f=["IN","KR"],h=e=>{var{imageType:t}=e;return[i.X2,i.pV,i.ox].includes(t)},_=e=>{var t,{queryParams:r,local:i,page:v,shouldFetch:_=!0}=e,{imageType:g,country:y}=r,b=(0,l.r)(),w=h({imageType:g}),{data:C}=(0,s.jy)(),S=(0,o.d)(),I=!C&&!f.includes(y)&&!S,k="studio-api/".concat(v,"/resource-personalization"),{data:T,isLoading:x}=(0,m.ZP)(_&&(C||I)&&w&&(0,n._c)({queryParams:r}).formattedUrl,e=>u.uS.get(e,{headers:{[a.jD]:k,[a.yx]:b}}).then(e=>{var t;return{items:(0,c.O)(e.data)||[],meta:(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.meta)||{}}}));return!x&&(null==T?void 0:null===(t=T.items)||void 0===t?void 0:t.length)>0&&void 0!==i&&(0,d.US)({local:i,thumbsRewriteHostname:p,personalizedImages:null==T?void 0:T.items}),{data:null==T?void 0:T.items,meta:null==T?void 0:T.meta,isLoading:x}}},6490:function(e,t,r){r.d(t,{Ws:function(){return h},_6:function(){return w},lB:function(){return f}});var n=r(57460),i=r(6692),a=r(73378),o=r(59581),s=r(56364),l=r(38579),u=r(23534),c=r(13716),d=r(26481),v=r(82781),m=r(43907),p=r(9338),f="asset-details-page",h="search-personalized-page",_=[o.k4,o.Hn],g=[s.sj5,s.cob],y=e=>{if(e)return e.filter(e=>{var{status:t,product:r}=e;if("active"===t){var{businessUnit:n,reportingBusinessUnit:i}=r||{},a=null==i?void 0:i.toLowerCase().trim();return _.includes(n)&&g.includes(a)}return!1})},b=e=>{if(e)return e.map(e=>{var{subscriptionExpiration:t,duration:r}=e,a=(0,v.n)({date:t,duration:r});return(0,i._)((0,n._)({},e),{startDate:a?new Date(a).getTime():0})}).sort((e,t)=>t.startDate-e.startDate)[0]},w=e=>{var t,{asset:{id:r,imageType:s},local:v,limit:f=l._P,page:h}=e,{isLoading:_,data:g}=(0,m.DJ)(),{locale:w,region:C}=(0,u.PE)(),{getSearchContext:S}=(0,c.Y)(),{isBrandEnterprise:I}=(0,d.D)(),k=b(y(g)),{search_term:T}=(null==S?void 0:S())||{},x=RegExp("^id:*").test(T),j=k&&(null==k?void 0:null===(t=k.product)||void 0===t?void 0:t.name),A=(0,n._)((0,i._)((0,n._)({country:C,imageType:s||o.pV,mediaId:r,limit:f,locale:w},!x&&{searchTerm:T}),{brand:I?a.Ez7:a.MkF}),j?{subscriptionProduct:j}:{});return(0,p.$)({queryParams:A,page:h,local:v,shouldFetch:!_})}},93219:function(e,t,r){r.d(t,{US:function(){return c},g8:function(){return l},jl:function(){return u}});var n=r(59581),i=r(76825),a=r(71341),o=(e,t)=>e?e.replace(/(ak\.(qa\.|dev\.|)picdn\.net|image\.(qa\.|dev\.|)shutterstock\.com|(picdn\.|cdn\.)(qa\.|dev\.|)shutterstock\.com|picdn\.(qa\.|dev\.|)shuttercorp\.net)/,t):e,s=function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];"object"==typeof e.displays&&Object.keys(e.displays).forEach(n=>{if(e.displays[n].src){var i=RegExp("^(?<before>.*)\\/z\\/(?<description>\\S{0,})-(?<id>\\d+).jpg$").exec(e.displays[n].src);i&&(e.displays[n].src="".concat(i.groups.before,"/shutterstock/photos/").concat(i.groups.id,"/display_1500/").concat(i.groups.description,"-").concat(i.groups.id,".jpg")),r&&(e.displays[n].src=o(e.displays[n].src,t))}}),r&&e.src&&(e.src=o(e.src,t))},l=function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];"object"==typeof e.previewVideoUrls&&Object.keys(e.previewVideoUrls).forEach(n=>{e.previewVideoUrls[n]&&r&&(e.previewVideoUrls[n]=o(e.previewVideoUrls[n],t))}),"object"==typeof e.thumbVideoUrls&&Object.keys(e.thumbVideoUrls).forEach(n=>{e.thumbVideoUrls[n]&&r&&(e.thumbVideoUrls[n]=o(e.thumbVideoUrls[n],t))}),"object"==typeof e.secureWatermarkUrl&&Object.keys(e.secureWatermarkUrl).forEach(n=>{e.secureWatermarkUrl[n]&&r&&(e.secureWatermarkUrl[n]=o(e.secureWatermarkUrl[n],t))}),e.previewImageUrl&&(r&&(e.previewImageUrl=o(e.previewImageUrl,t)),e.previewImageUrl=(0,a.vG)(e.previewImageUrl)),e.thumbImageUrl&&(r&&(e.thumbImageUrl=o(e.thumbImageUrl,t)),e.thumbImageUrl=(0,a.vG)(e.thumbImageUrl))},u=function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=(0,i.Tp)(e);a===n.k4&&s(e,t,r),a===n.pX&&l(e,t,r)},c=e=>{var t,r,n,i,a,{asset:o={},local:s=!0,thumbsRewriteHostname:l,relatedAssets:c,relatedAssetsToUse:d,sameArtistAssets:v,personalizedImages:m}=e,{containedInCollections:p}=o,[{meta:{items:f}={}}={}]=p||[];((null==o?void 0:o.displays)||(null==o?void 0:o.previewImageUrl))&&u(o,l,s),o.sameModel&&o.sameModel.length>0&&(null===(t=o.sameModel)||void 0===t||t.forEach(e=>{u(e,l,s)})),o.sameArtist&&o.sameArtist.length>0&&(null===(r=o.sameArtist)||void 0===r||r.forEach(e=>{u(e,l,s)})),o.relatedSelect&&o.relatedSelect.length>0&&(null===(n=o.relatedSelect)||void 0===n||n.forEach(e=>{u(e,l,s)})),o.visuallySimilarVideos&&o.visuallySimilarVideos.length>0&&(null==o||null===(i=o.visuallySimilarVideos)||void 0===i||i.forEach(e=>{u(e,l,s)})),o.related&&o.related.length>0&&(null==o||null===(a=o.related)||void 0===a||a.forEach(e=>{u(e,l,s)})),c&&c.length>0&&c.forEach(e=>{u(e,l,s)}),d&&d.length>0&&d.forEach(e=>{u(e,l,s)}),v&&v.length>0&&v.forEach(e=>{u(e,l,s)}),f&&f.length>0&&f.forEach(e=>{u(e,l,s)}),m&&m.length>0&&m.forEach(e=>{u(e,l,s)})}},60212:function(e,t,r){r.d(t,{k:function(){return n}});var n=e=>e&&"string"==typeof e?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)):""}}]);
//# sourceMappingURL=89473-53d07a1ab5df446e.js.map